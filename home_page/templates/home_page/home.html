{% extends 'home_page/base.html' %}
{% load static %}

{% block title %}Learn English - Home{% endblock %}

{% block content %}
  <!-- Hero Section -->
  <section id="home" class="hero">
    <div class="section-flex">
      <div class="section-content">
        <h1 class="hero-quote">Learn English online and boost your skills with our high-quality practice, interactive tests, and powerful learning resources.</h1>
        <div class="hero-subtitle">Come and join us to improve your English with our comprehensive platform</div>
        {% if user.is_authenticated %}
          <a href="{% url 'listening:test_home' %}" class="btn">Take Test Now</a>
        {% else %}
          <a href="{% url 'home_page:login' %}?next={% url 'listening:test_home' %}" class="btn">Take Test Now</a>
        {% endif %}
      </div>
      <img src="{% static 'home_page/images/start image.avif' %}" alt="Students learning English together">
    </div>
  </section>
  
  <!-- Features Section -->
  <section class="featured-section">
    <div class="features-container">
      <h1 class="featured-title">"An AI-powered platform designed to improve real English communication."</h1>
      <div class="features-grid">
        <div class="feature-card">
          <img src="{% static 'home_page/images/lsrw.png' %}" alt="LSRW-Based Learning" class="feature-image">
          <div class="feature-content">
            <div class="feature-highlight">ðŸ”¹ 1. LSRW-Based Learning</div>
            <h3>Master English through a balanced LSRW approach</h3>
            <p>Develop all four essential language skills with structured lessons and real-life examples.</p>
          </div>
        </div>
        <div class="feature-card">
          <img src="{% static 'home_page/images/AI feature.png' %}" alt="Practice Speaking with AI" class="feature-image">
          <div class="feature-content">
            <div class="feature-highlight">ðŸ”¹ 2. Practice Speaking with AI</div>
            <h3>Improve speaking through real-time AI interaction</h3>
            <p>Practice English conversations with AI and receive instant feedback on pronunciation and fluency.</p>
          </div>
        </div>
        <div class="feature-card">
          <img src="{% static 'home_page/images/progress_monitoring.jpg' %}" alt="Track Your Progress" class="feature-image">
          <div class="feature-content">
            <div class="feature-highlight">ðŸ”¹ 3. Track Your Confidence & Progress</div>
            <h3>See your improvement and build confidence</h3>
            <p>Monitor your progress across skills and stay motivated with clear learning insights.</p>
          </div>
        </div>
      </div>
    </div>
  </section>
  
  <!-- LSRW Slider Section -->
  <section class="lsrw-section">
    <div class="container">
      <div class="lsrw-header">
        <h2 class="section-heading">Practice Real English Skills</h2>
        <p class="section-subtitle">Improve your Listening, Speaking, Reading, and Writing with practical exercises. Master each skill systematically with our proven <b>LSRW</b> methodology.</p>
      </div>
      
      <div class="slider-container">
        <div class="slider-track" id="sliderTrack">
          <!-- Slide 1: Listening -->
          <div class="slide">
            <div class="slide-content">
              <span class="skill-tag">LISTENING PRACTICE</span>
              <h3 class="slide-title">Listen and Repeat Like Native Speakers</h3>
              <p class="slide-description">Our listening exercises use real conversations, podcasts, and interviews. Perfect your pronunciation by mimicking native speakers.</p>
              <ul class="slide-features">
                <li>Daily audio exercises with native speaker recordings</li>
                <li>Listen and repeat exercises for perfect pronunciation</li>
                <li>Comprehension questions to test understanding</li>
              </ul>
            </div>
            <div class="slide-image">
              <img src="{% static 'home_page/images/listening.jpg' %}" alt="Listening practice">
            </div>
          </div>
          <!-- Slide 2: Speaking -->
          <div class="slide">
            <div class="slide-content">
              <span class="skill-tag">SPEAKING PRACTICE</span>
              <h3 class="slide-title">Speak English Words and Sentences Correctly</h3>
              <p class="slide-description">Practice speaking English with our guided exercises. Get instant feedback on your pronunciation and fluency.</p>
              <ul class="slide-features">
                <li>Common words and phrases for daily conversation</li>
                <li>Sentence repetition exercises with audio models</li>
                <li>Instant feedback on your speaking accuracy</li>
              </ul>
            </div>
            <div class="slide-image">
              <img src="{% static 'home_page/images/speaking.jpg' %}" alt="Speaking practice">
            </div>
          </div>
          <!-- Slide 3: Reading -->
          <div class="slide">
            <div class="slide-content">
              <span class="skill-tag">READING PRACTICE</span>
              <h3 class="slide-title">Read and Understand English Texts</h3>
              <p class="slide-description">Improve your reading skills with carefully selected texts. Comprehension questions help ensure you understand what you read.</p>
              <ul class="slide-features">
                <li>Short stories and articles at different difficulty levels</li>
                <li>Vocabulary highlighted and explained in context</li>
                <li>Timed reading exercises to improve speed</li>
              </ul>
            </div>
            <div class="slide-image">
              <img src="{% static 'home_page/images/reading.webp' %}" alt="Reading practice">
            </div>
          </div>
          <!-- Slide 4: Writing -->
          <div class="slide">
            <div class="slide-content">
              <span class="skill-tag">WRITING PRACTICE</span>
              <h3 class="slide-title">Write English Clearly and Correctly</h3>
              <p class="slide-description">Learn to write English properly with our guided writing tasks. Express your thoughts clearly and correctly.</p>
              <ul class="slide-features">
                <li>Sentence construction exercises</li>
                <li>Paragraph writing with topic sentences</li>
                <li>Grammar correction as you write</li>
              </ul>
            </div>
            <div class="slide-image">
              <img src="{% static 'home_page/images/writting.jpg' %}" alt="Writing practice">
            </div>
          </div>
        </div>
        
        <div class="slider-nav">
          <button class="arrow-btn prev-btn">â€¹</button>
          <button class="arrow-btn next-btn">â€º</button>
        </div>
      </div>
      
      <div class="slider-dots" id="sliderDots">
        <button class="dot active" data-slide="0"></button>
        <button class="dot" data-slide="1"></button>
        <button class="dot" data-slide="2"></button>
        <button class="dot" data-slide="3"></button>
      </div>
    </div>
  </section>

  <!-- Skills Section -->
  <section id="skills">
    <div class="section-intro">
      <h2>Everything You Need to Master English Is Here</h2>
      <h3>Build Strong English Foundations.</h3>
      <div class="mt-4">
        <a href="{% url 'listening:test_home' %}" class="btn" style="padding: 18px 45px;">
          <i class="fas fa-clipboard-check me-2"></i> Test Your English Skills
        </a>
      </div>
    </div>
    <div class="section-flex">
      <img src="{% static 'home_page/images/skill_part.jfif' %}" alt="Practising English skills">
      <div class="section-content">
        <h2>Skills</h2>
        <p>Practice your listening, reading, writing and speaking and learn useful language to communicate effectively with others.</p>
        <ul>
          <li>Audio activities to practice your listening and speaking skills</li>
          <li>Listen back to get a better understanding of what was said</li>
          <li>Work on your reading skills to read more easily and understand more</li>
          <li>Interactive exercises with instant feedback</li>
        </ul>
      </div>
    </div>
  </section>

  <!-- Grammar Section -->
  <section id="grammar">
    <div class="section-intro">
      <h2>Build a strong foundation with proper grammar</h2>
      <p>Revise and practice grammar to improve your language level and increase your confidence in English communication</p>
    </div>
    <div class="section-flex">
      <div class="section-content">
        <h2>Grammar</h2>
        <p>Revise and practice grammar to improve your language level and increase your confidence.</p>
        <ul>
          <li>Clear and simple grammar explanations to help you revise different grammar points</li>
          <li>Practice using grammar today so you can speak and understand correctly</li>
          <li>Common mistakes analysis and correction</li>
          <li>Progress tracking with personalized recommendations</li>
        </ul>
      </div>
      <img src="{% static 'home_page/images/grammer.png' %}" alt="Learning English grammar">
    </div>
  </section>

  <!-- Vocabulary Section -->
  <section id="vocabulary">
    <div class="section-intro">
      <h2>Expand your word power and express yourself better</h2>
      <p>Learn new words and improve your language level to be able to communicate in English effectively in any situation</p>
    </div>
    <div class="section-flex">
      <img src="{% static 'home_page/images/vocabulary.jpg' %}" alt="Learning English vocabulary">
      <div class="section-content">
        <h2>Vocabulary</h2>
        <p>Learn new words and improve your language level to be able to communicate in English effectively.</p>
        <ul>
          <li>Online exercises to help you learn the meaning, pronunciation and spelling of new words</li>
          <li>Learn words combined into a wide range of different topics</li>
          <li>Flashcards with spaced repetition system</li>
          <li>Contextual learning with example sentences</li>
        </ul>
      </div>
    </div>
  </section>

  <!-- Final CTA Section -->
  <section style="background: linear-gradient(135deg, var(--primary-green), var(--dark-green)); padding: 80px 60px; text-align: center;">
    <div class="container">
      <h2 style="color: white; font-size: 42px; margin-bottom: 20px;">Ready to Test Your English Skills?</h2>
      <p style="color: rgba(255,255,255,0.9); font-size: 20px; margin-bottom: 40px; max-width: 700px; margin-left: auto; margin-right: auto;">
        Take our comprehensive listening and writing test to assess your current level and get personalized feedback.
      </p>
      <div class="cta-buttons">
        <a href="{% url 'listening:test_home' %}" class="btn" style="background: white; color: var(--primary-green); padding: 20px 50px; font-size: 20px; margin-right: 20px;">
          <i class="fas fa-play me-2"></i> Start Test Now
        </a>
        <a href="#skills" class="btn" style="background: transparent; border: 3px solid white; color: white; padding: 20px 50px; font-size: 20px;">
          <i class="fas fa-book me-2"></i> Learn More
        </a>
      </div>
    </div>
  </section>
{% endblock %}

{% block extra_js %}
<script>
  document.addEventListener('DOMContentLoaded', function() {
    const sliderTrack = document.getElementById('sliderTrack');
    const prevBtn = document.querySelector('.prev-btn');
    const nextBtn = document.querySelector('.next-btn');
    const dots = document.querySelectorAll('.dot');
    const slides = document.querySelectorAll('.slide');
    
    let currentSlide = 0;
    const totalSlides = slides.length;
    
    function updateSlider() {
      sliderTrack.style.transform = `translateX(-${currentSlide * 100}%)`;
      dots.forEach((dot, index) => {
        dot.classList.toggle('active', index === currentSlide);
      });
    }
    
    nextBtn.addEventListener('click', () => {
      currentSlide = (currentSlide + 1) % totalSlides;
      updateSlider();
    });
    
    prevBtn.addEventListener('click', () => {
      currentSlide = (currentSlide - 1 + totalSlides) % totalSlides;
      updateSlider();
    });
    
    dots.forEach(dot => {
      dot.addEventListener('click', function() {
        currentSlide = parseInt(this.getAttribute('data-slide'));
        updateSlider();
      });
    });
    
    // Auto-slide
    let slideInterval = setInterval(() => {
      currentSlide = (currentSlide + 1) % totalSlides;
      updateSlider();
    }, 5000);
    
    // Pause on hover
    const sliderContainer = document.querySelector('.slider-container');
    if (sliderContainer) {
      sliderContainer.addEventListener('mouseenter', () => clearInterval(slideInterval));
      sliderContainer.addEventListener('mouseleave', () => {
        slideInterval = setInterval(() => {
          currentSlide = (currentSlide + 1) % totalSlides;
          updateSlider();
        }, 5000);
      });
    }
  });
</script>
{% endblock %}