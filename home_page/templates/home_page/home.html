{% extends 'home_page/base.html' %}
{% load static %}

{% block title %}TheFluentEngineer | Learn English Online - Home{% endblock %}

{% block extra_css %}
<style>
    /* Any page-specific CSS can go here */
</style>
{% endblock %}


{% block content %}
{% include 'home_page/includes/header.html' with hide_header=hide_header|default:False %}
    <!-- Hero Section -->
    <section class="hero" id="home">
        <div class="hero-bg"></div>
        <div class="hero-overlay"></div>
        
        <div class="hero-content">
            <h1>
                Learn faster, speak confidently, and write like a pro.
            </h1>
            
            <p>
                Our platform provides interactive lessons, practice exercises, 
                and real-life examples to help you master English reading, writing, 
                speaking, and listening skills.
            </p>
            
            <div class="hero-buttons">
                <a href="#skills" class="btn btn-primary">
                    Explore More <span>→</span>
                </a>
                
                <!-- Conditionally show Login/Register buttons only when user is NOT authenticated -->
                {% if not user.is_authenticated %}
                    <a href="{% url 'home_page:login' %}" class="btn btn-secondary">
                        Login <span>→</span>
                    </a>
                    <a href="{% url 'home_page:register' %}" class="btn btn-outline">
                        Register <span>→</span>
                    </a>
                {% endif %}
            </div>
        </div>
        
        <div class="scroll-indicator">
            <i class="fas fa-chevron-down"></i>
        </div>
    </section>

    <!-- About Section -->
    <section class="about-section" id="about-us">
        <div class="container">
            <div class="about-container">
                <div class="about-images">
                    <div class="image-grid">
                        <div class="image-item">
                            <img src="https://images.unsplash.com/photo-1516321318423-f06f85e504b3?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" alt="Students learning English">
                        </div>
                        <div class="image-item">
                            <img src="https://images.unsplash.com/photo-1523580494863-6f3031224c94?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" alt="Online English class">
                        </div>
                        <div class="image-item">
                            <img src="https://images.unsplash.com/photo-1546410531-bb4caa6b424d?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" alt="English writing practice">
                        </div>
                        <div class="image-item">
                            <img src="https://images.unsplash.com/photo-1503676260728-1c00da094a0b?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" alt="Language learning">
                        </div>
                    </div>
                </div>
                
                <div class="about-content">
                    <h2>Welcome to TheFluentEngineer!</h2>
                    <p>
                        Helping engineering students improve their English skills with expert guidance.
                        From grammar and vocabulary to speaking and writing fluency, 
                        we make learning English simple and effective. 
                        Your journey to confident communication starts here — let's master English together!
                    </p>
                    <a href="#how-we-work" class="btn btn-primary">
                        How We Work <span>→</span>
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- SKILLS SECTION - LSRW Slider -->
    <section class="lsrw-section" id="skills">
        <div class="container">
            <div class="lsrw-header">
                <h2 class="section-heading">Practice Real English Skills</h2>
                <p class="section-subtitle">Improve your Listening, Speaking, Reading, and Writing with practical exercises. Master each skill systematically with our proven <b>LSRW</b> methodology.</p>
            </div>
            
            <div class="slider-container">
                <div class="slider-track" id="sliderTrack">
                    <!-- Slide 1: Listening -->
                    <div class="slide">
                        <div class="slide-content">
                            <span class="skill-tag">LISTENING PRACTICE</span>
                            <h3 class="slide-title">Listen and Repeat Like Native Speakers</h3>
                            <p class="slide-description">Our listening exercises use real conversations, podcasts, and interviews. Perfect your pronunciation by mimicking native speakers.</p>
                            <ul class="slide-features">
                                <li>Daily audio exercises with native speaker recordings</li>
                                <li>Listen and repeat exercises for perfect pronunciation</li>
                                <li>Comprehension questions to test understanding</li>
                            </ul>
                        </div>
                        <div class="slide-image">
                            <img src="{% static 'home_page/images/listening.jpg' %}" alt="Listening practice">
                        </div>
                    </div>
                    <!-- Slide 2: Speaking -->
                    <div class="slide">
                        <div class="slide-content">
                            <span class="skill-tag">SPEAKING PRACTICE</span>
                            <h3 class="slide-title">Speak English Words and Sentences Correctly</h3>
                            <p class="slide-description">Practice speaking English with our guided exercises. Get instant feedback on your pronunciation and fluency.</p>
                            <ul class="slide-features">
                                <li>Common words and phrases for daily conversation</li>
                                <li>Sentence repetition exercises with audio models</li>
                                <li>Instant feedback on your speaking accuracy</li>
                            </ul>
                        </div>
                        <div class="slide-image">
                            <img src="{% static 'home_page/images/speaking.jpg' %}" alt="Speaking practice">
                        </div>
                    </div>
                    <!-- Slide 3: Reading -->
                    <div class="slide">
                        <div class="slide-content">
                            <span class="skill-tag">READING PRACTICE</span>
                            <h3 class="slide-title">Read and Understand English Texts</h3>
                            <p class="slide-description">Improve your reading skills with carefully selected texts. Comprehension questions help ensure you understand what you read.</p>
                            <ul class="slide-features">
                                <li>Short stories and articles at different difficulty levels</li>
                                <li>Vocabulary highlighted and explained in context</li>
                                <li>Timed reading exercises to improve speed</li>
                            </ul>
                        </div>
                        <div class="slide-image">
                            <img src="{% static 'home_page/images/reading.webp' %}" alt="Reading practice">
                        </div>
                    </div>
                    <!-- Slide 4: Writing -->
                    <div class="slide">
                        <div class="slide-content">
                            <span class="skill-tag">WRITING PRACTICE</span>
                            <h3 class="slide-title">Write English Clearly and Correctly</h3>
                            <p class="slide-description">Learn to write English properly with our guided writing tasks. Express your thoughts clearly and correctly.</p>
                            <ul class="slide-features">
                                <li>Sentence construction exercises</li>
                                <li>Paragraph writing with topic sentences</li>
                                <li>Grammar correction as you write</li>
                            </ul>
                        </div>
                        <div class="slide-image">
                            <img src="{% static 'home_page/images/writting.jpg' %}" alt="Writing practice">
                        </div>
                    </div>
                </div>
                
                <div class="slider-nav">
                    <button class="arrow-btn prev-btn">‹</button>
                    <button class="arrow-btn next-btn">›</button>
                </div>
            </div>
            
            <div class="slider-dots" id="sliderDots">
                <button class="dot active" data-slide="0"></button>
                <button class="dot" data-slide="1"></button>
                <button class="dot" data-slide="2"></button>
                <button class="dot" data-slide="3"></button>
            </div>
        </div>
    </section>

    <!-- Our Values Section -->
    <section class="our-values" id="our-values">
        <div class="container">
            <div class="section-header">
                <h2>Unlock Your English Potential</h2>
                <p>Enhance your language proficiency step by step with structured learning.</p>
            </div>
            
            <div class="values-grid">
                <div class="value-card">
                    <div class="value-icon">
                        <i class="fas fa-comments"></i>
                    </div>
                    <h3>Communication Skills</h3>
                    <ul>
                        <li><i class="fas fa-check"></i> Listening Comprehension</li>
                        <li><i class="fas fa-check"></i> Reading Fluency</li>
                        <li><i class="fas fa-check"></i> Writing Excellence</li>
                        <li><i class="fas fa-check"></i> Speaking Confidence</li>
                    </ul>
                </div>
                
                <div class="value-card">
                    <div class="value-icon">
                        <i class="fas fa-book"></i>
                    </div>
                    <h3>Grammar Mastery</h3>
                    <p>Master sentence structure, tenses, punctuation, and correct usage to speak and write accurately.</p>
                    <div class="value-image">
                        <img src="https://images.unsplash.com/photo-1455390582262-044cdead277a?ixlib=rb-4.0.3&auto=format&fit=crop&w=300&q=80" alt="Grammar learning">
                    </div>
                </div>
                
                <div class="value-card">
                    <div class="value-icon">
                        <i class="fas fa-book-open"></i>
                    </div>
                    <h3>Vocabulary Expansion</h3>
                    <p>Expand your word bank with useful words, phrases, and expressions to communicate confidently.</p>
                    <div class="value-image">
                        <img src="https://images.unsplash.com/photo-1501504905252-473c47e087f8?ixlib=rb-4.0.3&auto=format&fit=crop&w=300&q=80" alt="Vocabulary building">
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Why Us Section -->
    <section class="why-us" id="why-us">
        <div class="container">
            <div class="section-header">
                <h2>Why Choose TheFluentEngineer?</h2>
                <p>Practical learning, personalized guidance, and measurable progress to help you master English with confidence.</p>
            </div>
            
            <div class="why-content">
                <div class="why-images">
                    <img src="https://images.unsplash.com/photo-1522202176988-66273c2fd55f?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80" alt="Group learning" class="why-img-main">
                    <img src="https://images.unsplash.com/photo-1553877522-43269d4ea984?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80" alt="Online learning" class="why-img-small">
                </div>
                
                <div class="why-features">
                    <div class="feature">
                        <div class="feature-progress">
                            <div class="progress-bar" style="width: 90%"></div>
                        </div>
                        <div class="feature-content">
                            <h4>Expert Guidance for Every Step</h4>
                            <p>Learning English can feel overwhelming. We guide you through every stage, from basic grammar to advanced speaking and writing.</p>
                        </div>
                    </div>
                    
                    <div class="feature">
                        <div class="feature-progress">
                            <div class="progress-bar" style="width: 85%"></div>
                        </div>
                        <div class="feature-content">
                            <h4>Tailored Solutions for Your Goals</h4>
                            <p>Every learner is unique. We create personalized lessons and exercises that match your level and learning objectives.</p>
                        </div>
                    </div>
                    
                    <div class="feature">
                        <div class="feature-progress">
                            <div class="progress-bar" style="width: 95%"></div>
                        </div>
                        <div class="feature-content">
                            <h4>Interactive Practice & Progress Tracking</h4>
                            <p>From exercises to real-life practice, we make learning engaging and track your improvement for measurable results.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- How We Work Section -->
    <section class="how-work" id="how-we-work">
        <div class="container">
            <div class="section-header">
                <h2>How We Work</h2>
                <p>Guiding you through every step with clarity, expertise, and dedication.</p>
            </div>
            
            <div class="work-steps">
                <div class="step">
                    <div class="step-number">1</div>
                    <div class="step-content">
                        <h4>Pre-Test & Assessment</h4>
                        <p>Every student starts with a pre-test of multiple-choice questions. This helps us analyze your strengths, weaknesses, and current English level.</p>
                    </div>
                </div>
                
                <div class="step">
                    <div class="step-number">2</div>
                    <div class="step-content">
                        <h4>Personalized Learning Path</h4>
                        <p>Based on your results, we assign a customized learning path—Basic, Intermediate, or Advanced—tailored to your goals and skills.</p>
                    </div>
                </div>
                
                <div class="step">
                    <div class="step-number">3</div>
                    <div class="step-content">
                        <h4>Structured Tasks & Progression</h4>
                        <p>Students complete tasks, exercises, and practice modules at each level. Only after completing a task successfully can they move to the next.</p>
                    </div>
                </div>
                
                <div class="step">
                    <div class="step-number">4</div>
                    <div class="step-content">
                        <h4>Continuous Evaluation & Feedback</h4>
                        <p>Ongoing assessments and feedback track your improvement, refine your learning path, and help you achieve fluency step by step.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- FAQ Section -->
    <section class="faq-section" id="faq">
        <div class="container">
            <div class="section-header">
                <h2>Frequently Asked Questions</h2>
                <p>Quick answers to your most common questions.</p>
            </div>
            
            <div class="faq-container">
                <div class="faq-item">
                    <div class="faq-question">
                        <h4>Do I need any prior English knowledge to start?</h4>
                        <span class="faq-icon">+</span>
                    </div>
                    <div class="faq-answer">
                        <p>No. The platform is designed for complete beginners as well as advanced learners. You can start from your current level.</p>
                    </div>
                </div>
                
                <div class="faq-item">
                    <div class="faq-question">
                        <h4>What English skills will I learn here?</h4>
                        <span class="faq-icon">+</span>
                    </div>
                    <div class="faq-answer">
                        <p>You will learn listening, reading, writing, and speaking skills through our LSRW approach, along with grammar and vocabulary.</p>
                    </div>
                </div>
                
                <div class="faq-item">
                    <div class="faq-question">
                        <h4>Will I get a personalized study plan?</h4>
                        <span class="faq-icon">+</span>
                    </div>
                    <div class="faq-answer">
                        <p>Yes. After your pre-test, the system creates a learning path based on your level, helping you study the right lessons at the right pace.</p>
                    </div>
                </div>
                
                <div class="faq-item">
                    <div class="faq-question">
                        <h4>Can I track my learning progress?</h4>
                        <span class="faq-icon">+</span>
                    </div>
                    <div class="faq-answer">
                        <p>Yes. Your personal dashboard shows your completed lessons, task scores, and improvement over time.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Optional: Add a CTA section for logged-in users -->
    {% if user.is_authenticated %}
    <section class="cta-section" style="background: linear-gradient(135deg, #667eea, #764ba2); padding: 60px; text-align: center; color: white;">
        <div class="container">
            <h2 style="font-size: 36px; margin-bottom: 20px;">Ready to continue your journey?</h2>
            <p style="font-size: 18px; margin-bottom: 30px; opacity: 0.9;">You're making great progress! Keep practicing to improve your English skills.</p>
            {% if user.profile.pretest_completed %}
                <a href="{% url 'home_page:pretest_results' %}" class="btn" style="background: white; color: #667eea; padding: 15px 40px; font-size: 18px;">View Your Results</a>
            {% else %}
                <a href="{% url 'home_page:start_pretest' %}" class="btn" style="background: white; color: #667eea; padding: 15px 40px; font-size: 18px;">Continue Pretest</a>
            {% endif %}
        </div>
    </section>
    {% endif %}
{% endblock %}

{% block extra_js %}
<script>
    document.addEventListener('DOMContentLoaded', function() {
        const sliderTrack = document.getElementById('sliderTrack');
        const prevBtn = document.querySelector('.prev-btn');
        const nextBtn = document.querySelector('.next-btn');
        const dots = document.querySelectorAll('.dot');
        const slides = document.querySelectorAll('.slide');
        const sliderContainer = document.querySelector('.slider-container');
        
        if (sliderTrack && prevBtn && nextBtn && slides.length > 0) {
            let currentSlide = 0;
            const totalSlides = slides.length;
            let slideInterval;
            
            function updateSlider() {
                sliderTrack.style.transform = `translateX(-${currentSlide * 100}%)`;
                dots.forEach((dot, index) => {
                    dot.classList.toggle('active', index === currentSlide);
                });
            }
            
            function nextSlide() {
                currentSlide = (currentSlide + 1) % totalSlides;
                updateSlider();
            }
            
            function prevSlide() {
                currentSlide = (currentSlide - 1 + totalSlides) % totalSlides;
                updateSlider();
            }
            
            function startAutoSlide() {
                if (slideInterval) {
                    clearInterval(slideInterval);
                }
                slideInterval = setInterval(nextSlide, 1500);
            }
            
            function stopAutoSlide() {
                if (slideInterval) {
                    clearInterval(slideInterval);
                    slideInterval = null;
                }
            }
            
            nextBtn.addEventListener('click', function() {
                stopAutoSlide();
                nextSlide();
                startAutoSlide();
            });
            
            prevBtn.addEventListener('click', function() {
                stopAutoSlide();
                prevSlide();
                startAutoSlide();
            });
            
            dots.forEach((dot, index) => {
                dot.addEventListener('click', function() {
                    stopAutoSlide();
                    currentSlide = index;
                    updateSlider();
                    startAutoSlide();
                });
            });
            
            if (sliderContainer) {
                sliderContainer.addEventListener('mouseenter', stopAutoSlide);
                sliderContainer.addEventListener('mouseleave', startAutoSlide);
            }
            
            startAutoSlide();
        }
    });
</script>
{% endblock %}